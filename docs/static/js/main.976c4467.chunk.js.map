{"version":3,"sources":["database/Context.js","pages/Nav.jsx","pages/MainWrapper.jsx","pages/Manager/Filters.jsx","pages/Manager/OrderTable.jsx","pages/Manager/Pagination.jsx","database/useDatabase.js","pages/Manager/ManagerPage.jsx","pages/OrderManager/OrderManagerPage.jsx","pages/OrderForm/OrderFormPage.jsx","App.js","database/reducer.js","database/Boilerplate.js","database/database.js","index.js"],"names":["Context","createContext","sitePath","window","location","protocol","host","Nav","props","value","useContext","lastReviewedOrdersIDs","state","lastReviewed","orderIds","getOrderById","match","useRouteMatch","path","strict","setStatus","className","style","height","to","href","src","alt","width","status","caption","image","map","key","img","id","fullname","LiModeButtons","onClick","isExact","border","backgroundColor","Li","MainWrapper","children","Filters","onFilter","useState","userName","setUserName","order","setOrder","minPrice","setMinPrice","maxPrice","setMaxPrice","startDate","setStartDate","finalDate","setFinalDate","useEffect","filters","push","type","content","onChange","e","target","placeholder","defaultValue","min","OrderTable","orders","onEdit","Tr","dateFormatter","Intl","DateTimeFormat","good","price","format","date","Badge","Pagination","onPagination","currentPage","commonPages","PaginationItem","pageNumber","paginationItems","i","aria-label","aria-disabled","item","useDatabase","ManagerPage","page","setCurrentPage","limit","maxOrders","history","useHistory","getOrders","ordersAmount","getOrdersAmount","displayedOrders","setDisplayedOrders","paginatedOrders","setPaginatedOrders","Math","ceil","length","slice","role","filteredOrders","filter","toLowerCase","startsWith","Date","parse","orderId","nextPage","OrderManagerPage","params","useParams","parseInt","toISOString","substring","inputFullnameRef","useRef","inputGoodRef","inputDateRef","inputStatusRef","cardWarningRef","updateOrder","fullName","setFullNameValue","setGoodValue","dateValue","setDateValue","fillingTheForm","useCallback","ref","readOnly","label","current","trim","updatedOrder","getTime","$","removeClass","OrderFormPage","createOrder","fullnameRef","goodRef","priceRef","data-dismiss","aria-hidden","data-order-price","newOrder","now","classList","add","App","component","reducer","action","currentOrderIds","includes","payload","unshift","splice","indexOf","pop","localStorage","setItem","JSON","stringify","Object","assign","data","max","x","withoutId","getItem","DatabaseProvider","useReducer","dispatch","offset","find","Provider","rootElement","document","getElementById","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.976c4467.chunk.js","sourcesContent":["import { createContext } from \"react\";\r\n\r\nconst Context = createContext();\r\n\r\nexport default Context;\r\n","import React, { useContext } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport Context from '../database/Context'\r\nimport { useRouteMatch } from 'react-router-dom'\r\n\r\nconst sitePath = window.location.protocol + '//' + window.location.host\r\n\r\nexport default function Nav(props) {\r\n\tconst value = useContext(Context)\r\n\tconst lastReviewedOrdersIDs = value.state.lastReviewed.orderIds\r\n\tconst getOrderById = value.getOrderById\r\n\r\n\tconst match = useRouteMatch({ path: '/', strict: true })\r\n\r\n\tconst { setStatus } = props\r\n\r\n\t/* Данные кнопок режимов отображения заказов. */\r\n\tconst modeButtons = [\r\n\t\t{ status: 'new', caption: 'Новые', image: 'new' },\r\n\t\t{ status: 'process', caption: 'На исполнение', image: 'innovation' },\r\n\t\t{ status: 'back', caption: 'Возврат', image: 'back' },\r\n\t\t{\r\n\t\t\tstatus: 'archived',\r\n\t\t\tcaption: 'Заархивированные',\r\n\t\t\timage: 'compressed',\r\n\t\t},\r\n\t]\r\n\r\n\treturn (\r\n\t\t<nav\r\n\t\t\tclassName='col-md-2 d-none d-md-block bg-light sidebar'\r\n\t\t\tstyle={{ height: '100vh' }}\r\n\t\t>\r\n\t\t\t<div className='sidebar-sticky'>\r\n\t\t\t\t<Link\r\n\t\t\t\t\tto={'/order/'}\r\n\t\t\t\t\tclassName='px-3 mt-4 mb-1 text-decoration-none btn btn-primary'\r\n\t\t\t\t>\r\n\t\t\t\t\tНовый заказ\r\n\t\t\t\t</Link>\r\n\r\n\t\t\t\t<h6 className='sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1'>\r\n\t\t\t\t\tРежимы\r\n\t\t\t\t</h6>\r\n\r\n\t\t\t\t<ul className='nav flex-column'>\r\n\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t<a className='nav-link active' href='/'>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc={sitePath + '/assets/data-collection.png'}\r\n\t\t\t\t\t\t\t\talt=''\r\n\t\t\t\t\t\t\t\tstyle={{ width: '30px' }}\r\n\t\t\t\t\t\t\t\tclassName='mr-2'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\tВсе заказы\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t{modeButtons.map(({ status, image, caption }) => (\r\n\t\t\t\t\t\t<LiModeButtons\r\n\t\t\t\t\t\t\tkey={status}\r\n\t\t\t\t\t\t\tstatus={status}\r\n\t\t\t\t\t\t\tsetStatus={setStatus}\r\n\t\t\t\t\t\t\timg={image}\r\n\t\t\t\t\t\t\tcaption={caption}\r\n\t\t\t\t\t\t\tmatch={match}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</ul>\r\n\r\n\t\t\t\t<h6 className='sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted'>\r\n\t\t\t\t\tПоследние просматриваемые\r\n\t\t\t\t</h6>\r\n\t\t\t\t<ul className='nav flex-column mb-2'>\r\n\t\t\t\t\t{lastReviewedOrdersIDs.map(id => (\r\n\t\t\t\t\t\t<Li\r\n\t\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\t\tfullname={getOrderById(id).fullname}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t</nav>\r\n\t)\r\n}\r\n\r\nconst LiModeButtons = props => {\r\n\tconst { status, img, setStatus, caption, match } = props\r\n\r\n\treturn (\r\n\t\t<li className='nav-item'>\r\n\t\t\t<button\r\n\t\t\t\tclassName='nav-link text-left'\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\t// Если открыта страница с заказами:\r\n\t\t\t\t\tif (match.isExact === true) {\r\n\t\t\t\t\t\tsetStatus(status)\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\tborder: 'none',\r\n\t\t\t\t\tbackgroundColor: 'transparent',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={sitePath + `/assets/${img}.png`}\r\n\t\t\t\t\talt=''\r\n\t\t\t\t\tstyle={{ width: '30px' }}\r\n\t\t\t\t\tclassName='mr-2'\r\n\t\t\t\t/>\r\n\t\t\t\t{caption}\r\n\t\t\t</button>\r\n\t\t</li>\r\n\t)\r\n}\r\n\r\nconst Li = props => {\r\n\tconst { id, fullname } = props\r\n\r\n\treturn (\r\n\t\t<li className='nav-item'>\r\n\t\t\t<Link className='nav-link' to={`/editor/${id}`}>\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={sitePath + '/assets/arrow.png'}\r\n\t\t\t\t\talt=''\r\n\t\t\t\t\tstyle={{ width: '30px' }}\r\n\t\t\t\t\tclassName='mr-2'\r\n\t\t\t\t/>\r\n\t\t\t\t{fullname}\r\n\t\t\t</Link>\r\n\t\t</li>\r\n\t)\r\n}\r\n","import React from 'react'\r\n\r\nimport Nav from './Nav'\r\n\r\nexport default function MainWrapper(props) {\r\n\treturn (\r\n\t\t<div className='container-fluid'>\r\n\t\t\t<div className='row'>\r\n\t\t\t\t<Nav setStatus={props.setStatus} />\r\n\t\t\t\t{props.children}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\n\r\nexport default function Filters(props) {\r\n\tconst { onFilter, status, setStatus } = props\r\n\r\n\tconst [userName, setUserName] = useState('')\r\n\tconst [order, setOrder] = useState('')\r\n\t// const [status, setStatus] = useState('')\r\n\tconst [minPrice, setMinPrice] = useState('')\r\n\tconst [maxPrice, setMaxPrice] = useState('')\r\n\tconst [startDate, setStartDate] = useState('')\r\n\tconst [finalDate, setFinalDate] = useState('')\r\n\r\n\tuseEffect(() => {\r\n\t\tconst filters = []\r\n\r\n\t\tif (userName) {\r\n\t\t\tfilters.push({\r\n\t\t\t\ttype: 'name',\r\n\t\t\t\tcontent: userName,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tif (order) {\r\n\t\t\tfilters.push({\r\n\t\t\t\ttype: 'order',\r\n\t\t\t\tcontent: order,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tif (status) {\r\n\t\t\tfilters.push({\r\n\t\t\t\ttype: 'status',\r\n\t\t\t\tcontent: status,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tif (minPrice) {\r\n\t\t\tfilters.push({\r\n\t\t\t\ttype: 'minPrice',\r\n\t\t\t\tcontent: minPrice,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tif (maxPrice) {\r\n\t\t\tfilters.push({\r\n\t\t\t\ttype: 'maxPrice',\r\n\t\t\t\tcontent: maxPrice,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tif (startDate) {\r\n\t\t\tfilters.push({\r\n\t\t\t\ttype: 'startDate',\r\n\t\t\t\tcontent: startDate,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tif (finalDate) {\r\n\t\t\tfilters.push({\r\n\t\t\t\ttype: 'finalDate',\r\n\t\t\t\tcontent: finalDate,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tonFilter(filters)\r\n\t}, [userName, order, status, minPrice, maxPrice, startDate, finalDate])\r\n\r\n\treturn (\r\n\t\t<div className='form-row p-2'>\r\n\t\t\t<div className='form-group col'>\r\n\t\t\t\t<label>ФИО:</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tvalue={userName}\r\n\t\t\t\t\tonChange={e => setUserName(e.target.value)}\r\n\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tplaceholder='ФИО'\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className='form-group col'>\r\n\t\t\t\t<label>Заказ:</label>\r\n\t\t\t\t<select\r\n\t\t\t\t\tvalue={order}\r\n\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\tonChange={e => setOrder(e.target.value)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<option value='' defaultValue>\r\n\t\t\t\t\t\tВсе\r\n\t\t\t\t\t</option>\r\n\t\t\t\t\t<option value='Принтер'>Принтер</option>\r\n\t\t\t\t\t<option value='Бумага для принтера'>\r\n\t\t\t\t\t\tБумага для принтера\r\n\t\t\t\t\t</option>\r\n\t\t\t\t\t<option value='Краски для принтера'>\r\n\t\t\t\t\t\tКраски для принтера\r\n\t\t\t\t\t</option>\r\n\t\t\t\t\t<option value='Картриджи для принтера'>\r\n\t\t\t\t\t\tКартриджи для принтера\r\n\t\t\t\t\t</option>\r\n\t\t\t\t\t<option value='Полимерная ванна'>Полимерная ванна</option>\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className='form-group col'>\r\n\t\t\t\t<label>Статус:</label>\r\n\t\t\t\t<select\r\n\t\t\t\t\tvalue={status}\r\n\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\tonChange={e => setStatus(e.target.value)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<option value='' defaultValue>\r\n\t\t\t\t\t\tВсе\r\n\t\t\t\t\t</option>\r\n\t\t\t\t\t<option value='new'>Новые</option>\r\n\t\t\t\t\t<option value='process'>На исполнение</option>\r\n\t\t\t\t\t<option value='back'>Возврат</option>\r\n\t\t\t\t\t<option value='archived'>Заархивированные</option>\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className='form-group col'>\r\n\t\t\t\t<label>Сумма:</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tvalue={minPrice}\r\n\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\ttype='number'\r\n\t\t\t\t\tmin='0'\r\n\t\t\t\t\tplaceholder='От'\r\n\t\t\t\t\tonChange={e => setMinPrice(e.target.value)}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<input\r\n\t\t\t\t\tvalue={maxPrice}\r\n\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\ttype='number'\r\n\t\t\t\t\tmin='0'\r\n\t\t\t\t\tplaceholder='До'\r\n\t\t\t\t\tonChange={e => setMaxPrice(e.target.value)}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className='form-group col'>\r\n\t\t\t\t<label>Дата:</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tvalue={startDate}\r\n\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\ttype='date'\r\n\t\t\t\t\tonChange={e => setStartDate(e.target.value)}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<input\r\n\t\t\t\t\tvalue={finalDate}\r\n\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\ttype='date'\r\n\t\t\t\t\tonChange={e => setFinalDate(e.target.value)}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react'\r\n\r\nexport default function OrderTable(props) {\r\n\treturn (\r\n\t\t<div className='table-responsive'>\r\n\t\t\t<table className='table table-striped'>\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>id</th>\r\n\t\t\t\t\t\t<th>ФИО</th>\r\n\t\t\t\t\t\t<th>Заказ</th>\r\n\t\t\t\t\t\t<th>Сумма</th>\r\n\t\t\t\t\t\t<th>Статус</th>\r\n\t\t\t\t\t\t<th>Действия</th>\r\n\t\t\t\t\t\t<th>Дата / Время</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{props.orders.map(order => (\r\n\t\t\t\t\t\t<Tr\r\n\t\t\t\t\t\t\torder={order}\r\n\t\t\t\t\t\t\tkey={order.id}\r\n\t\t\t\t\t\t\tonEdit={props.onEdit}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst Tr = props => {\r\n\tconst { order } = props\r\n\r\n\t// Форматтер даты.\r\n\tconst dateFormatter = new Intl.DateTimeFormat('ru-Ru')\r\n\r\n\treturn (\r\n\t\t<tr>\r\n\t\t\t<td>{order.id}</td>\r\n\t\t\t<td>{order.fullname}</td>\r\n\t\t\t<td>{order.good}</td>\r\n\t\t\t<td>{order.price}</td>\r\n\t\t\t<td>\r\n\t\t\t\t<Badge type={order.status} />\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName='btn btn-outline-primary btn-sm'\r\n\t\t\t\t\tonClick={() => props.onEdit(order.id)}\r\n\t\t\t\t>\r\n\t\t\t\t\tРедактировать\r\n\t\t\t\t</button>\r\n\t\t\t</td>\r\n\t\t\t<td>{dateFormatter.format(order.date)}</td>\r\n\t\t</tr>\r\n\t)\r\n}\r\n\r\nconst Badge = props => {\r\n\tswitch (props.type) {\r\n\t\tcase 'process':\r\n\t\t\treturn <div className='badge badge-warning'>в обработке</div>\r\n\t\tcase 'new':\r\n\t\t\treturn <div className='badge badge-primary'>новое</div>\r\n\t\tcase 'archived':\r\n\t\t\treturn <div className='badge badge-dark'>архив</div>\r\n\t\tcase 'back':\r\n\t\t\treturn <div className='badge badge-danger'>возврат</div>\r\n\t\tdefault:\r\n\t\t\treturn null\r\n\t}\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Pagination(props) {\r\n\tconst { onPagination, currentPage, commonPages } = props\r\n\r\n\tif (commonPages <= 1) {\r\n\t\treturn null\r\n\t}\r\n\r\n\t// Элемент пагинации с номером страницы.\r\n\tconst PaginationItem = props => {\r\n\t\tconst { pageNumber, currentPage } = props\r\n\r\n\t\treturn (\r\n\t\t\t<li\r\n\t\t\t\tclassName={\r\n\t\t\t\t\t'page-item ' + (currentPage === pageNumber ? 'active' : '')\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tonPagination(pageNumber)\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName='page-link'\r\n\t\t\t\t>\r\n\t\t\t\t\t{pageNumber}\r\n\t\t\t\t</button>\r\n\t\t\t</li>\r\n\t\t)\r\n\t}\r\n\r\n\t// Кнопки пагинации.\r\n\tconst paginationItems = []\r\n\r\n\t// Создаём кнопки пагинации.\r\n\tfor (let i = 1; i <= commonPages; i++) {\r\n\t\tpaginationItems.push(\r\n\t\t\t<PaginationItem key={i} pageNumber={i} currentPage={currentPage} />\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<nav aria-label='Page navigation example'>\r\n\t\t\t<ul className='pagination justify-content-center'>\r\n\t\t\t\t<li\r\n\t\t\t\t\tclassName={`page-item ${\r\n\t\t\t\t\t\tcurrentPage === 1 ? 'disabled' : ''\r\n\t\t\t\t\t}`}\r\n\t\t\t\t>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName='page-link'\r\n\t\t\t\t\t\tonClick={() => onPagination('prev')}\r\n\t\t\t\t\t\taria-disabled='true'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tНазад\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</li>\r\n\r\n\t\t\t\t{paginationItems.map(item => item)}\r\n\r\n\t\t\t\t<li\r\n\t\t\t\t\tclassName={`page-item ${\r\n\t\t\t\t\t\tcurrentPage === commonPages ? 'disabled' : ''\r\n\t\t\t\t\t}`}\r\n\t\t\t\t>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName='page-link'\r\n\t\t\t\t\t\tonClick={() => onPagination('next')}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tВперед\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</nav>\r\n\t)\r\n}\r\n","import { useContext } from \"react\";\r\nimport Context from \"./Context\";\r\n\r\nexport default function useDatabase() {\r\n  return useContext(Context);\r\n}\r\n","// Страница \"Заказы\" (стартовая).\r\nimport React, { useState, useContext, useEffect } from 'react'\r\n\r\nimport MainWrapper from '../MainWrapper'\r\nimport Filters from './Filters'\r\nimport OrderTable from './OrderTable'\r\nimport Pagination from './Pagination'\r\nimport useDatabase from '../../database/useDatabase'\r\n\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nimport Context from '../../database/Context'\r\n\r\nexport default function ManagerPage({ page }) {\r\n\tconst [status, setStatus] = useState('')\r\n\r\n\t// Пагинация.\r\n\tconst [currentPage, setCurrentPage] = useState(1)\r\n\r\n\tconst value = useContext(Context)\r\n\r\n\t// Максимальное количество заказов на странице.\r\n\tconst limit = value.state.maxOrders\r\n\r\n\tconst history = useHistory()\r\n\tconst { getOrders, getOrdersAmount } = useDatabase()\r\n\r\n\t// Всего заказов.\r\n\tconst ordersAmount = getOrdersAmount()\r\n\t// С какого заказа отображать заказы на выбранной странице.\r\n\tconst offset = (currentPage - 1) * limit\r\n\r\n\tconst orders = getOrders(offset, ordersAmount)\r\n\r\n\t// Заказы после фильтра.\r\n\tconst [displayedOrders, setDisplayedOrders] = useState([...orders])\r\n\t// Заказы, которые должны отрисоваться на странице при пагинации.\r\n\tconst [paginatedOrders, setPaginatedOrders] = useState([...displayedOrders])\r\n\r\n\tconst handlerFilter = filters => {\r\n\t\tlet filteredOrders = [...orders]\r\n\r\n\t\t// 0: {type: \"name\", content: \"Тимофей \"}\r\n\t\t// 1: {type: \"order\", content: \"Принтер\"}\r\n\t\t// 2: {type: \"status\", content: \"Новые\"}\r\n\t\t// 3: {type: \"minPrice\", content: \"1\"}\r\n\t\t// 4: {type: \"maxPrice\", content: \"5\"}\r\n\t\t// 5: {type: \"startDate\", content: \"2020-09-06\"}\r\n\t\t// 6: {type: \"finalDate\", content: \"2020-10-01\"}\r\n\r\n\t\t// date: 1582739937251\r\n\t\t// fullname: \"Тимофей Черешников 1\"\r\n\t\t// good: \"Бумага для принтера\"\r\n\t\t// id: 1\r\n\t\t// price: 500\r\n\t\t// status: \"process\"\r\n\r\n\t\tfor (const filter of filters) {\r\n\t\t\tif (filter.type === 'name') {\r\n\t\t\t\tfilteredOrders = filteredOrders.filter(order =>\r\n\t\t\t\t\torder.fullname\r\n\t\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t\t.startsWith(filter.content.toLowerCase())\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tif (filter.type === 'order') {\r\n\t\t\t\tfilteredOrders = filteredOrders.filter(\r\n\t\t\t\t\torder =>\r\n\t\t\t\t\t\torder.good.toLowerCase() ===\r\n\t\t\t\t\t\tfilter.content.toLowerCase()\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tif (filter.type === 'status') {\r\n\t\t\t\tfilteredOrders = filteredOrders.filter(\r\n\t\t\t\t\torder =>\r\n\t\t\t\t\t\torder.status.toLowerCase() ===\r\n\t\t\t\t\t\tfilter.content.toLowerCase()\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tif (filter.type === 'minPrice') {\r\n\t\t\t\tfilteredOrders = filteredOrders.filter(\r\n\t\t\t\t\torder => order.price >= filter.content\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tif (filter.type === 'maxPrice') {\r\n\t\t\t\tfilteredOrders = filteredOrders.filter(\r\n\t\t\t\t\torder => order.price <= filter.content\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tif (filter.type === 'startDate') {\r\n\t\t\t\tfilteredOrders = filteredOrders.filter(\r\n\t\t\t\t\torder => order.date >= Date.parse(filter.content)\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tif (filter.type === 'finalDate') {\r\n\t\t\t\tfilteredOrders = filteredOrders.filter(\r\n\t\t\t\t\torder => order.date <= Date.parse(filter.content)\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsetDisplayedOrders([...filteredOrders])\r\n\t}\r\n\r\n\tconst handlerEdit = orderId => {\r\n\t\thistory.push(`/editor/${orderId}`)\r\n\t}\r\n\r\n\tconst handlerPagination = nextPage => {\r\n\t\tif (nextPage === 'prev') {\r\n\t\t\tsetCurrentPage(currentPage => currentPage - 1)\r\n\t\t} else if (nextPage === 'next') {\r\n\t\t\tsetCurrentPage(currentPage => currentPage + 1)\r\n\t\t} else if (typeof nextPage === 'number') {\r\n\t\t\tsetCurrentPage(nextPage)\r\n\t\t}\r\n\t}\r\n\r\n\t// Количество страниц.\r\n\tconst commonPages = Math.ceil(displayedOrders.length / limit)\r\n\r\n\tuseEffect(\r\n\t\t() =>\r\n\t\t\tsetPaginatedOrders(\r\n\t\t\t\tdisplayedOrders.slice(\r\n\t\t\t\t\t(currentPage - 1) * limit,\r\n\t\t\t\t\tcurrentPage * limit\r\n\t\t\t\t)\r\n\t\t\t),\r\n\t\t[displayedOrders, currentPage, limit]\r\n\t)\r\n\r\n\treturn (\r\n\t\t<MainWrapper setStatus={setStatus}>\r\n\t\t\t<main\r\n\t\t\t\trole='main'\r\n\t\t\t\tclassName='col-md-9 ml-sm-auto col-lg-10 px-4 d-flex flex-column'\r\n\t\t\t>\r\n\t\t\t\t<div className='d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom'>\r\n\t\t\t\t\t<h1 className='h2'>Заказы</h1>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Filters\r\n\t\t\t\t\tonFilter={handlerFilter}\r\n\t\t\t\t\tstatus={status}\r\n\t\t\t\t\tsetStatus={setStatus}\r\n\t\t\t\t/>\r\n\t\t\t\t<OrderTable onEdit={handlerEdit} orders={paginatedOrders} />\r\n\t\t\t\t<Pagination\r\n\t\t\t\t\tonPagination={handlerPagination}\r\n\t\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\t\tcommonPages={commonPages}\r\n\t\t\t\t/>\r\n\t\t\t</main>\r\n\t\t</MainWrapper>\r\n\t)\r\n}\r\n","// Редактирование заказа.\r\nimport React, { useCallback, useEffect, useRef, useState } from 'react'\r\n\r\nimport { useParams } from 'react-router-dom'\r\n\r\nimport MainWrapper from '../MainWrapper'\r\nimport useDatabase from '../../database/useDatabase'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nexport default function OrderManagerPage() {\r\n\tconst history = useHistory()\r\n\r\n\tconst params = useParams()\r\n\tconst id = parseInt(params.orderId, 10)\r\n\r\n\tconst { getOrderById } = useDatabase()\r\n\tconst order = getOrderById(id)\r\n\r\n\tconst date = new Date(order.date).toISOString().substring(0, 10)\r\n\r\n\tconst goods = [\r\n\t\t'Бумага для принтера',\r\n\t\t'Краски для принтера',\r\n\t\t'Картриджи для принтера',\r\n\t\t'Принтер',\r\n\t\t'Полимерная ванна',\r\n\t]\r\n\r\n\tconst statuses = [\r\n\t\t{ value: 'process', label: 'На исполнение' },\r\n\t\t{ value: 'back', label: 'Возврат' },\r\n\t\t{ value: 'archived', label: 'Заархивированно' },\r\n\t\t{ value: 'new', label: 'Новый' },\r\n\t]\r\n\r\n\tconst inputFullnameRef = useRef()\r\n\tconst inputGoodRef = useRef()\r\n\tconst inputDateRef = useRef()\r\n\tconst inputStatusRef = useRef()\r\n\tconst cardWarningRef = useRef()\r\n\r\n\tconst { updateOrder } = useDatabase()\r\n\r\n\tconst makeUpdateOrder = () => {\r\n\t\tif (\r\n\t\t\tinputFullnameRef.current.value.trim() !== '' &&\r\n\t\t\tinputDateRef.current.value.trim() !== ''\r\n\t\t) {\r\n\t\t\tconst updatedOrder = {\r\n\t\t\t\tfullname: inputFullnameRef.current.value,\r\n\t\t\t\tgood: inputGoodRef.current.value,\r\n\t\t\t\tdate: new Date(inputDateRef.current.value).getTime(),\r\n\t\t\t\tstatus: inputStatusRef.current.value,\r\n\t\t\t}\r\n\r\n\t\t\tupdateOrder(order.id, updatedOrder)\r\n\t\t\thistory.push(`/`)\r\n\t\t} else {\r\n\t\t\twindow.$(cardWarningRef.current).removeClass('js-hidden')\r\n\t\t}\r\n\t}\r\n\r\n\tconst [fullName, setFullNameValue] = useState(order.fullname)\r\n\tconst [good, setGoodValue] = useState(order.good)\r\n\tconst [dateValue, setDateValue] = useState(date)\r\n\tconst [status, setStatus] = useState(order.status)\r\n\r\n\tconst fillingTheForm = useCallback(\r\n\t\t(fullName, good, dateValue, status) => {\r\n\t\t\tsetFullNameValue(order.fullname)\r\n\t\t\tsetGoodValue(order.good)\r\n\t\t\tsetDateValue(date)\r\n\t\t\tsetStatus(order.status)\r\n\t\t},\r\n\t\t[order.fullname, order.good, date, order.status]\r\n\t)\r\n\r\n\tuseEffect(() => {\r\n\t\tfillingTheForm()\r\n\t}, [fillingTheForm, order.fullname, order.good, date, order.status])\r\n\r\n\treturn (\r\n\t\t<MainWrapper>\r\n\t\t\t<main\r\n\t\t\t\trole='main'\r\n\t\t\t\tclassName='col-md-9 ml-sm-auto col-lg-10 px-4 d-flex flex-column p-2'\r\n\t\t\t>\r\n\t\t\t\t<div className='card'>\r\n\t\t\t\t\t<div className='card-header'>\r\n\t\t\t\t\t\t<h2>{order.fullname}</h2>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tref={cardWarningRef}\r\n\t\t\t\t\t\t\tclassName='alert alert-danger alert-dismissible show fade js-hidden'\r\n\t\t\t\t\t\t\trole='alert'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<strong>Заполните все поля!</strong>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className='form-group row'>\r\n\t\t\t\t\t\t\t<label className='col-sm-1 col-form-label'>\r\n\t\t\t\t\t\t\t\tID:\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className='col-sm-11'>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tclassName='form-control-plaintext'\r\n\t\t\t\t\t\t\t\t\treadOnly\r\n\t\t\t\t\t\t\t\t\tvalue={id}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='form-group row'>\r\n\t\t\t\t\t\t\t<label className='col-sm-1 col-form-label'>\r\n\t\t\t\t\t\t\t\tФИО:\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className='col-sm-11'>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tref={inputFullnameRef}\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tvalue={fullName}\r\n\t\t\t\t\t\t\t\t\tonChange={e =>\r\n\t\t\t\t\t\t\t\t\t\tsetFullNameValue(e.target.value)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='form-group row'>\r\n\t\t\t\t\t\t\t<label className='col-sm-1 col-form-label'>\r\n\t\t\t\t\t\t\t\tЗаказ:\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className='col-sm-11'>\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\tref={inputGoodRef}\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tvalue={good}\r\n\t\t\t\t\t\t\t\t\tonChange={e => setGoodValue(e.target.value)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{goods.map(good => (\r\n\t\t\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\t\t\tkey={good}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={good}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={good}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='form-group row'>\r\n\t\t\t\t\t\t\t<label className='col-sm-1 col-form-label'>\r\n\t\t\t\t\t\t\t\tДата:\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className='col-sm-11'>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tref={inputDateRef}\r\n\t\t\t\t\t\t\t\t\ttype='date'\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tvalue={dateValue}\r\n\t\t\t\t\t\t\t\t\tonChange={e => setDateValue(e.target.value)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='form-group row'>\r\n\t\t\t\t\t\t\t<label className='col-sm-1 col-form-label'>\r\n\t\t\t\t\t\t\t\tСтатус:\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className='col-sm-11'>\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\tref={inputStatusRef}\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tvalue={status}\r\n\t\t\t\t\t\t\t\t\tonChange={e => setStatus(e.target.value)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{statuses.map(status => (\r\n\t\t\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\t\t\tkey={status.value}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={status.value}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={status.label}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='card-footer d-flex justify-content-end'>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName='btn btn-success'\r\n\t\t\t\t\t\t\tonClick={makeUpdateOrder}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tСохранить\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName='btn btn-danger ml-3'\r\n\t\t\t\t\t\t\tonClick={() => history.push(`/`)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tОтмена\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</main>\r\n\t\t</MainWrapper>\r\n\t)\r\n}\r\n","import React, { useRef } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport useDatabase from '../../database/useDatabase'\r\n\r\nexport default function OrderFormPage() {\r\n\tconst history = useHistory()\r\n\r\n\tconst { createOrder } = useDatabase()\r\n\r\n\tconst fullnameRef = useRef()\r\n\tconst goodRef = useRef()\r\n\tconst priceRef = useRef()\r\n\tconst cardWarningRef = useRef()\r\n\r\n\tconst makeOrder = () => {\r\n\t\tif (\r\n\t\t\tfullnameRef.current.value.trim() !== '' &&\r\n\t\t\tparseInt(priceRef.current.value.trim(), 10) > 0 &&\r\n\t\t\tgoodRef.current.value.trim() !== ''\r\n\t\t) {\r\n\t\t\tconst newOrder = {\r\n\t\t\t\tfullname: fullnameRef.current.value,\r\n\t\t\t\tstatus: 'new',\r\n\t\t\t\tprice: priceRef.current.value,\r\n\t\t\t\tgood: goodRef.current.value,\r\n\t\t\t\tdate: Date.now(),\r\n\t\t\t}\r\n\r\n\t\t\tcreateOrder(newOrder)\r\n\t\t\thistory.push(`/`)\r\n\t\t} else {\r\n\t\t\tcardWarningRef.current.classList.add('show')\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName='d-flex justify-content-center'\r\n\t\t\tstyle={{ height: '100vh' }}\r\n\t\t>\r\n\t\t\t<div className='d-flex flex-column justify-content-center'>\r\n\t\t\t\t<div className='card' style={{ width: '500px' }}>\r\n\t\t\t\t\t<div className='card-header'>\r\n\t\t\t\t\t\t<h2>Новый заказ</h2>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tref={cardWarningRef}\r\n\t\t\t\t\t\t\tclassName='alert alert-warning alert-dismissible fade'\r\n\t\t\t\t\t\t\trole='alert'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<strong>Заполните все поля!</strong>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\tЦена должна быть больше нуля.\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\tclassName='close'\r\n\t\t\t\t\t\t\t\tdata-dismiss='alert'\r\n\t\t\t\t\t\t\t\taria-label='Close'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className='form-group row'>\r\n\t\t\t\t\t\t\t<label className='col-sm-2 col-form-label'>\r\n\t\t\t\t\t\t\t\tФИО:\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className='col-sm-10'>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tref={fullnameRef}\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tplaceholder='Иван Иванов'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='form-group row'>\r\n\t\t\t\t\t\t\t<label className='col-sm-2 col-form-label'>\r\n\t\t\t\t\t\t\t\tЗаказ:\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className='col-sm-10'>\r\n\t\t\t\t\t\t\t\t<select ref={goodRef} className='form-control'>\r\n\t\t\t\t\t\t\t\t\t<option defaultValue>\r\n\t\t\t\t\t\t\t\t\t\tБумага для принтера\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t<option>Краски для принтера</option>\r\n\t\t\t\t\t\t\t\t\t<option>Картриджи для принтера</option>\r\n\t\t\t\t\t\t\t\t\t<option>Принтер</option>\r\n\t\t\t\t\t\t\t\t\t<option>Полимерная ванна</option>\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='form-group row'>\r\n\t\t\t\t\t\t\t<label className='col-sm-2 col-form-label'>\r\n\t\t\t\t\t\t\t\tЦена:\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className='col-sm-10'>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tdefaultValue='0'\r\n\t\t\t\t\t\t\t\t\tmin='0'\r\n\t\t\t\t\t\t\t\t\tref={priceRef}\r\n\t\t\t\t\t\t\t\t\tdata-order-price\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='card-footer d-flex justify-content-end'>\r\n\t\t\t\t\t\t<button className='btn btn-success' onClick={makeOrder}>\r\n\t\t\t\t\t\t\tОтправить\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName='btn btn-danger ml-3'\r\n\t\t\t\t\t\t\tonClick={() => history.push(`/`)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tОтмена\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport './styles.css'\r\n\r\nimport ManagerPage from './pages/Manager/ManagerPage'\r\nimport OrderManagerPage from './pages/OrderManager/OrderManagerPage'\r\nimport OrderFormPage from './pages/OrderForm/OrderFormPage'\r\n\r\nimport { Switch, Route } from 'react-router-dom'\r\n\r\nexport default function App({ page }) {\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t{/* Новый заказ. */}\r\n\t\t\t<Route path='/order/' component={OrderFormPage} />\r\n\r\n\t\t\t{/* Редактировать заказ. */}\r\n\t\t\t<Route path='/editor/:orderId' component={OrderManagerPage} />\r\n\r\n\t\t\t{/* Заказы */}\r\n\t\t\t<Route path='/'>\r\n\t\t\t\t<ManagerPage />;\r\n\t\t\t</Route>\r\n\t\t</Switch>\r\n\t)\r\n}\r\n","import { UPDATE_ORDER, CREATE_ORDER } from './Boilerplate'\r\n\r\nexport default function reducer(state, action) {\r\n\tif (action.type === UPDATE_ORDER) {\r\n\t\tconst currentOrderIds = state.lastReviewed.orderIds.slice()\r\n\t\tif (currentOrderIds.includes(action.payload.id)) {\r\n\t\t\tcurrentOrderIds.unshift(\r\n\t\t\t\t...currentOrderIds.splice(\r\n\t\t\t\t\tcurrentOrderIds.indexOf(action.payload.id),\r\n\t\t\t\t\t1\r\n\t\t\t\t)\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\tcurrentOrderIds.pop()\r\n\t\t\tcurrentOrderIds.unshift(action.payload.id)\r\n\t\t}\r\n\r\n\t\tlocalStorage.setItem(\r\n\t\t\t'CRM_REACT_ORDERS',\r\n\t\t\tJSON.stringify({\r\n\t\t\t\t...state,\r\n\t\t\t\torders: state.orders.map(order => {\r\n\t\t\t\t\tif (order.id !== action.payload.id) {\r\n\t\t\t\t\t\treturn order\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn Object.assign({}, order, action.payload.data)\r\n\t\t\t\t}),\r\n\t\t\t\tlastReviewed: {\r\n\t\t\t\t\t...state.lastReviewed,\r\n\t\t\t\t\torderIds: currentOrderIds,\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t)\r\n\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\torders: state.orders.map(order => {\r\n\t\t\t\tif (order.id !== action.id) {\r\n\t\t\t\t\treturn order\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn Object.assign({}, order, action.data)\r\n\t\t\t}),\r\n\t\t\tlastReviewed: {\r\n\t\t\t\t...state.lastReviewed,\r\n\t\t\t\torderIds: currentOrderIds,\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n\r\n\tif (action.type === CREATE_ORDER) {\r\n\t\tconst id = 1 + Math.max(0, ...state.orders.map(x => x.id))\r\n\r\n\t\tlocalStorage.setItem(\r\n\t\t\t'CRM_REACT_ORDERS',\r\n\t\t\tJSON.stringify({\r\n\t\t\t\t...state,\r\n\t\t\t\torders: [...state.orders, { id, ...action.payload }],\r\n\t\t\t})\r\n\t\t)\r\n\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\torders: [...state.orders, { id, ...action.payload }],\r\n\t\t}\r\n\t}\r\n\r\n\treturn { ...state }\r\n}\r\n","export const UPDATE_ORDER = \"update order bro =D\";\r\nexport const CREATE_ORDER = \"Wow, it's real?\";\r\n","import React, { useReducer } from 'react'\r\n// import orders from './orders.json'\r\nimport reducer from './reducer'\r\nimport { UPDATE_ORDER, CREATE_ORDER } from './Boilerplate'\r\nimport Context from './Context'\r\n\r\nconst withoutId = ({ id, ...data }) => data\r\n\r\n// localStorage.setItem(\r\n\t// 'CRM_REACT_ORDERS',\r\n\t// JSON.stringify({\r\n\t\t// orders: orders,\r\n\t\t// lastReviewed: {\r\n\t\t\t// maxLength: 4,\r\n\t\t\t// orderIds: [1, 2, 3, 4],\r\n\t\t// },\r\n\t// })\r\n// )\r\nconst orders = JSON.parse(localStorage.getItem('CRM_REACT_ORDERS')).orders\r\nconst lastReviewed = JSON.parse(\r\nlocalStorage.getItem('CRM_REACT_ORDERS')\r\n).lastReviewed\r\n\r\nexport function DatabaseProvider(props) {\r\n\tconst [state, dispatch] = useReducer(reducer, {\r\n\t\t// lastReviewed: {\r\n\t\t\t// maxLength: 4,\r\n\t\t\t// orderIds: [1, 2, 3, 4],\r\n\t\t// },\r\n\t\tlastReviewed,\r\n\t\tmaxOrders: 10,\r\n\t\torders,\r\n\t})\r\n\r\n\tconst getOrders = (offset = 0, limit = 10) =>\r\n\t\tstate.orders.slice(offset, offset + limit)\r\n\r\n\t// Сколько всего заказов.\r\n\tconst getOrdersAmount = () => state.orders.length\r\n\r\n\tconst updateOrder = (id, data) =>\r\n\t\tdispatch({\r\n\t\t\ttype: UPDATE_ORDER,\r\n\t\t\tpayload: { id, data: withoutId(data) },\r\n\t\t})\r\n\r\n\t// Функция возвращает заказ по его id.\r\n\tconst getOrderById = id => state.orders.find(order => order.id === id)\r\n\r\n\tconst createOrder = order =>\r\n\t\tdispatch({ type: CREATE_ORDER, payload: order })\r\n\r\n\tconst value = {\r\n\t\tstate,\r\n\t\tdispatch,\r\n\t\tgetOrders,\r\n\t\tgetOrdersAmount,\r\n\t\tupdateOrder,\r\n\t\tgetOrderById,\r\n\t\tcreateOrder,\r\n\t}\r\n\r\n\treturn <Context.Provider value={value}>{props.children}</Context.Provider>\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\n\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\n\r\nimport App from './App'\r\nimport { DatabaseProvider } from './database/database'\r\n\r\nconst rootElement = document.getElementById('root')\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<Router>\r\n\t\t\t<DatabaseProvider>\r\n\t\t\t\t<App />\r\n\t\t\t</DatabaseProvider>\r\n\t\t</Router>\r\n\t</React.StrictMode>,\r\n\trootElement\r\n)\r\n\r\n// /order/1/edit\r\n"],"sourceRoot":""}