(this["webpackJsonpcrm-react"]=this["webpackJsonpcrm-react"]||[]).push([[0],{23:function(e,t,a){e.exports=a(34)},28:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),c=a.n(l),o=a(8),s=(a(28),a(20)),m=a(9),u=a(2),i=Object(n.createContext)(),d=a(1),f=window.location.protocol+"//"+window.location.host;function p(e){var t=Object(n.useContext)(i),a=t.state.lastReviewed.orderIds,l=t.getOrderById,c=Object(d.h)({path:"/",strict:!0}),s=e.setStatus;return r.a.createElement("nav",{className:"col-md-2 d-none d-md-block bg-light sidebar",style:{height:"100vh"}},r.a.createElement("div",{className:"sidebar-sticky"},r.a.createElement(o.b,{to:"/order/",className:"px-3 mt-4 mb-1 text-decoration-none btn btn-primary"},"\u041d\u043e\u0432\u044b\u0439 \u0437\u0430\u043a\u0430\u0437"),r.a.createElement("h6",{className:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1"},"\u0420\u0435\u0436\u0438\u043c\u044b"),r.a.createElement("ul",{className:"nav flex-column"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link active",href:"/"},r.a.createElement("img",{src:f+"/assets/data-collection.png",alt:"",style:{width:"30px"},className:"mr-2"}),"\u0412\u0441\u0435 \u0437\u0430\u043a\u0430\u0437\u044b")),[{status:"new",caption:"\u041d\u043e\u0432\u044b\u0435",image:"new"},{status:"process",caption:"\u041d\u0430 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435",image:"innovation"},{status:"back",caption:"\u0412\u043e\u0437\u0432\u0440\u0430\u0442",image:"back"},{status:"archived",caption:"\u0417\u0430\u0430\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435",image:"compressed"}].map((function(e){var t=e.status,a=e.image,n=e.caption;return r.a.createElement(b,{key:t,status:t,setStatus:s,img:a,caption:n,match:c})}))),r.a.createElement("h6",{className:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0435\u043c\u044b\u0435"),r.a.createElement("ul",{className:"nav flex-column mb-2"},a.map((function(e){return r.a.createElement(E,{id:e,key:e,fullname:l(e).fullname})})))))}var b=function(e){var t=e.status,a=e.img,n=e.setStatus,l=e.caption,c=e.match;return r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link text-left",onClick:function(){!0===c.isExact&&n(t)},style:{width:"100%",border:"none",backgroundColor:"transparent"}},r.a.createElement("img",{src:f+"/assets/".concat(a,".png"),alt:"",style:{width:"30px"},className:"mr-2"}),l))},E=function(e){var t=e.id,a=e.fullname;return r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{className:"nav-link",to:"/editor/".concat(t)},r.a.createElement("img",{src:f+"/assets/arrow.png",alt:"",style:{width:"30px"},className:"mr-2"}),a))};function v(e){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement(p,{setStatus:e.setStatus}),e.children))}function g(e){var t=e.onFilter,a=e.status,l=e.setStatus,c=Object(n.useState)(""),o=Object(u.a)(c,2),s=o[0],m=o[1],i=Object(n.useState)(""),d=Object(u.a)(i,2),f=d[0],p=d[1],b=Object(n.useState)(""),E=Object(u.a)(b,2),v=E[0],g=E[1],N=Object(n.useState)(""),O=Object(u.a)(N,2),h=O[0],j=O[1],y=Object(n.useState)(""),w=Object(u.a)(y,2),x=w[0],C=w[1],S=Object(n.useState)(""),R=Object(u.a)(S,2),k=R[0],I=R[1];return Object(n.useEffect)((function(){var e=[];s&&e.push({type:"name",content:s}),f&&e.push({type:"order",content:f}),a&&e.push({type:"status",content:a}),v&&e.push({type:"minPrice",content:v}),h&&e.push({type:"maxPrice",content:h}),x&&e.push({type:"startDate",content:x}),k&&e.push({type:"finalDate",content:k}),t(e)}),[s,f,a,v,h,x,k]),r.a.createElement("div",{className:"form-row p-2"},r.a.createElement("div",{className:"form-group col"},r.a.createElement("label",null,"\u0424\u0418\u041e:"),r.a.createElement("input",{value:s,onChange:function(e){return m(e.target.value)},className:"form-control",type:"text",placeholder:"\u0424\u0418\u041e"})),r.a.createElement("div",{className:"form-group col"},r.a.createElement("label",null,"\u0417\u0430\u043a\u0430\u0437:"),r.a.createElement("select",{value:f,className:"form-control",onChange:function(e){return p(e.target.value)}},r.a.createElement("option",{value:"",defaultValue:!0},"\u0412\u0441\u0435"),r.a.createElement("option",{value:"\u041f\u0440\u0438\u043d\u0442\u0435\u0440"},"\u041f\u0440\u0438\u043d\u0442\u0435\u0440"),r.a.createElement("option",{value:"\u0411\u0443\u043c\u0430\u0433\u0430 \u0434\u043b\u044f \u043f\u0440\u0438\u043d\u0442\u0435\u0440\u0430"},"\u0411\u0443\u043c\u0430\u0433\u0430 \u0434\u043b\u044f \u043f\u0440\u0438\u043d\u0442\u0435\u0440\u0430"),r.a.createElement("option",{value:"\u041a\u0440\u0430\u0441\u043a\u0438 \u0434\u043b\u044f \u043f\u0440\u0438\u043d\u0442\u0435\u0440\u0430"},"\u041a\u0440\u0430\u0441\u043a\u0438 \u0434\u043b\u044f \u043f\u0440\u0438\u043d\u0442\u0435\u0440\u0430"),r.a.createElement("option",{value:"\u041a\u0430\u0440\u0442\u0440\u0438\u0434\u0436\u0438 \u0434\u043b\u044f \u043f\u0440\u0438\u043d\u0442\u0435\u0440\u0430"},"\u041a\u0430\u0440\u0442\u0440\u0438\u0434\u0436\u0438 \u0434\u043b\u044f \u043f\u0440\u0438\u043d\u0442\u0435\u0440\u0430"),r.a.createElement("option",{value:"\u041f\u043e\u043b\u0438\u043c\u0435\u0440\u043d\u0430\u044f \u0432\u0430\u043d\u043d\u0430"},"\u041f\u043e\u043b\u0438\u043c\u0435\u0440\u043d\u0430\u044f \u0432\u0430\u043d\u043d\u0430"))),r.a.createElement("div",{className:"form-group col"},r.a.createElement("label",null,"\u0421\u0442\u0430\u0442\u0443\u0441:"),r.a.createElement("select",{value:a,className:"form-control",onChange:function(e){return l(e.target.value)}},r.a.createElement("option",{value:"",defaultValue:!0},"\u0412\u0441\u0435"),r.a.createElement("option",{value:"new"},"\u041d\u043e\u0432\u044b\u0435"),r.a.createElement("option",{value:"process"},"\u041d\u0430 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435"),r.a.createElement("option",{value:"back"},"\u0412\u043e\u0437\u0432\u0440\u0430\u0442"),r.a.createElement("option",{value:"archived"},"\u0417\u0430\u0430\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435"))),r.a.createElement("div",{className:"form-group col"},r.a.createElement("label",null,"\u0421\u0443\u043c\u043c\u0430:"),r.a.createElement("input",{value:v,className:"form-control",type:"number",min:"0",placeholder:"\u041e\u0442",onChange:function(e){return g(e.target.value)}}),r.a.createElement("input",{value:h,className:"form-control",type:"number",min:"0",placeholder:"\u0414\u043e",onChange:function(e){return j(e.target.value)}})),r.a.createElement("div",{className:"form-group col"},r.a.createElement("label",null,"\u0414\u0430\u0442\u0430:"),r.a.createElement("input",{value:x,className:"form-control",type:"date",onChange:function(e){return C(e.target.value)}}),r.a.createElement("input",{value:k,className:"form-control",type:"date",onChange:function(e){return I(e.target.value)}})))}function N(e){return r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"id"),r.a.createElement("th",null,"\u0424\u0418\u041e"),r.a.createElement("th",null,"\u0417\u0430\u043a\u0430\u0437"),r.a.createElement("th",null,"\u0421\u0443\u043c\u043c\u0430"),r.a.createElement("th",null,"\u0421\u0442\u0430\u0442\u0443\u0441"),r.a.createElement("th",null,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"),r.a.createElement("th",null,"\u0414\u0430\u0442\u0430 / \u0412\u0440\u0435\u043c\u044f"))),r.a.createElement("tbody",null,e.orders.map((function(t){return r.a.createElement(O,{order:t,key:t.id,onEdit:e.onEdit})})))))}var O=function(e){var t=e.order,a=new Intl.DateTimeFormat("ru-Ru");return r.a.createElement("tr",null,r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.fullname),r.a.createElement("td",null,t.good),r.a.createElement("td",null,t.price),r.a.createElement("td",null,r.a.createElement(h,{type:t.status})),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-outline-primary btn-sm",onClick:function(){return e.onEdit(t.id)}},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")),r.a.createElement("td",null,a.format(t.date)))},h=function(e){switch(e.type){case"process":return r.a.createElement("div",{className:"badge badge-warning"},"\u0432 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435");case"new":return r.a.createElement("div",{className:"badge badge-primary"},"\u043d\u043e\u0432\u043e\u0435");case"archived":return r.a.createElement("div",{className:"badge badge-dark"},"\u0430\u0440\u0445\u0438\u0432");case"back":return r.a.createElement("div",{className:"badge badge-danger"},"\u0432\u043e\u0437\u0432\u0440\u0430\u0442");default:return null}};function j(e){var t=e.onPagination,a=e.currentPage,n=e.commonPages;if(n<=1)return null;for(var l=function(e){var a=e.pageNumber,n=e.currentPage;return r.a.createElement("li",{className:"page-item "+(n===a?"active":"")},r.a.createElement("button",{onClick:function(){t(a)},className:"page-link"},a))},c=[],o=1;o<=n;o++)c.push(r.a.createElement(l,{key:o,pageNumber:o,currentPage:a}));return r.a.createElement("nav",{"aria-label":"Page navigation example"},r.a.createElement("ul",{className:"pagination justify-content-center"},r.a.createElement("li",{className:"page-item ".concat(1===a?"disabled":"")},r.a.createElement("button",{className:"page-link",onClick:function(){return t("prev")},"aria-disabled":"true"},"\u041d\u0430\u0437\u0430\u0434")),c.map((function(e){return e})),r.a.createElement("li",{className:"page-item ".concat(a===n?"disabled":"")},r.a.createElement("button",{className:"page-link",onClick:function(){return t("next")}},"\u0412\u043f\u0435\u0440\u0435\u0434"))))}function y(){return Object(n.useContext)(i)}function w(e){e.page;var t=Object(n.useState)(""),a=Object(u.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(1),f=Object(u.a)(o,2),p=f[0],b=f[1],E=Object(n.useContext)(i).state.maxOrders,O=Object(d.f)(),h=y(),w=h.getOrders,x=(0,h.getOrdersAmount)(),C=w((p-1)*E,x),S=Object(n.useState)(Object(m.a)(C)),R=Object(u.a)(S,2),k=R[0],I=R[1],D=Object(n.useState)(Object(m.a)(k)),P=Object(u.a)(D,2),M=P[0],_=P[1],L=Math.ceil(k.length/E);return Object(n.useEffect)((function(){return _(k.slice((p-1)*E,p*E))}),[k,p,E]),r.a.createElement(v,{setStatus:c},r.a.createElement("main",{role:"main",className:"col-md-9 ml-sm-auto col-lg-10 px-4 d-flex flex-column"},r.a.createElement("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},r.a.createElement("h1",{className:"h2"},"\u0417\u0430\u043a\u0430\u0437\u044b")),r.a.createElement(g,{onFilter:function(e){var t,a=Object(m.a)(C),n=Object(s.a)(e);try{var r=function(){var e=t.value;"name"===e.type&&(a=a.filter((function(t){return t.fullname.toLowerCase().startsWith(e.content.toLowerCase())}))),"order"===e.type&&(a=a.filter((function(t){return t.good.toLowerCase()===e.content.toLowerCase()}))),"status"===e.type&&(a=a.filter((function(t){return t.status.toLowerCase()===e.content.toLowerCase()}))),"minPrice"===e.type&&(a=a.filter((function(t){return t.price>=e.content}))),"maxPrice"===e.type&&(a=a.filter((function(t){return t.price<=e.content}))),"startDate"===e.type&&(a=a.filter((function(t){return t.date>=Date.parse(e.content)}))),"finalDate"===e.type&&(a=a.filter((function(t){return t.date<=Date.parse(e.content)})))};for(n.s();!(t=n.n()).done;)r()}catch(l){n.e(l)}finally{n.f()}I(Object(m.a)(a))},status:l,setStatus:c}),r.a.createElement(N,{onEdit:function(e){O.push("/editor/".concat(e))},orders:M}),r.a.createElement(j,{onPagination:function(e){"prev"===e?b((function(e){return e-1})):"next"===e?b((function(e){return e+1})):"number"===typeof e&&b(e)},currentPage:p,commonPages:L})))}function x(){var e=Object(d.f)(),t=Object(d.g)(),a=parseInt(t.orderId,10),l=(0,y().getOrderById)(a),c=new Date(l.date).toISOString().substring(0,10),o=Object(n.useRef)(),s=Object(n.useRef)(),m=Object(n.useRef)(),i=Object(n.useRef)(),f=Object(n.useRef)(),p=y().updateOrder,b=Object(n.useState)(l.fullname),E=Object(u.a)(b,2),g=E[0],N=E[1],O=Object(n.useState)(l.good),h=Object(u.a)(O,2),j=h[0],w=h[1],x=Object(n.useState)(c),C=Object(u.a)(x,2),S=C[0],R=C[1],k=Object(n.useState)(l.status),I=Object(u.a)(k,2),D=I[0],P=I[1],M=Object(n.useCallback)((function(e,t,a,n){N(l.fullname),w(l.good),R(c),P(l.status)}),[l.fullname,l.good,c,l.status]);return Object(n.useEffect)((function(){M()}),[M,l.fullname,l.good,c,l.status]),r.a.createElement(v,null,r.a.createElement("main",{role:"main",className:"col-md-9 ml-sm-auto col-lg-10 px-4 d-flex flex-column p-2"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h2",null,l.fullname)),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{ref:f,className:"alert alert-danger alert-dismissible show fade js-hidden",role:"alert"},r.a.createElement("strong",null,"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f!")),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-1 col-form-label"},"ID:"),r.a.createElement("div",{className:"col-sm-11"},r.a.createElement("input",{type:"text",className:"form-control-plaintext",readOnly:!0,value:a}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-1 col-form-label"},"\u0424\u0418\u041e:"),r.a.createElement("div",{className:"col-sm-11"},r.a.createElement("input",{ref:o,type:"text",className:"form-control",value:g,onChange:function(e){return N(e.target.value)}}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-1 col-form-label"},"\u0417\u0430\u043a\u0430\u0437:"),r.a.createElement("div",{className:"col-sm-11"},r.a.createElement("select",{ref:s,className:"form-control",value:j,onChange:function(e){return w(e.target.value)}},["\u0411\u0443\u043c\u0430\u0433\u0430 \u0434\u043b\u044f \u043f\u0440\u0438\u043d\u0442\u0435\u0440\u0430","\u041a\u0440\u0430\u0441\u043a\u0438 \u0434\u043b\u044f \u043f\u0440\u0438\u043d\u0442\u0435\u0440\u0430","\u041a\u0430\u0440\u0442\u0440\u0438\u0434\u0436\u0438 \u0434\u043b\u044f \u043f\u0440\u0438\u043d\u0442\u0435\u0440\u0430","\u041f\u0440\u0438\u043d\u0442\u0435\u0440","\u041f\u043e\u043b\u0438\u043c\u0435\u0440\u043d\u0430\u044f \u0432\u0430\u043d\u043d\u0430"].map((function(e){return r.a.createElement("option",{key:e,value:e,label:e})}))))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-1 col-form-label"},"\u0414\u0430\u0442\u0430:"),r.a.createElement("div",{className:"col-sm-11"},r.a.createElement("input",{ref:m,type:"date",className:"form-control",value:S,onChange:function(e){return R(e.target.value)}}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-1 col-form-label"},"\u0421\u0442\u0430\u0442\u0443\u0441:"),r.a.createElement("div",{className:"col-sm-11"},r.a.createElement("select",{ref:i,className:"form-control",value:D,onChange:function(e){return P(e.target.value)}},[{value:"process",label:"\u041d\u0430 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435"},{value:"back",label:"\u0412\u043e\u0437\u0432\u0440\u0430\u0442"},{value:"archived",label:"\u0417\u0430\u0430\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e"},{value:"new",label:"\u041d\u043e\u0432\u044b\u0439"}].map((function(e){return r.a.createElement("option",{key:e.value,value:e.value,label:e.label})})))))),r.a.createElement("div",{className:"card-footer d-flex justify-content-end"},r.a.createElement("button",{className:"btn btn-success",onClick:function(){if(""!==o.current.value.trim()&&""!==m.current.value.trim()){var t={fullname:o.current.value,good:s.current.value,date:new Date(m.current.value).getTime(),status:i.current.value};p(l.id,t),e.push("/")}else window.$(f.current).removeClass("js-hidden")}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),r.a.createElement("button",{className:"btn btn-danger ml-3",onClick:function(){return e.push("/")}},"\u041e\u0442\u043c\u0435\u043d\u0430")))))}function C(){var e=Object(d.f)(),t=y().createOrder,a=Object(n.useRef)(),l=Object(n.useRef)(),c=Object(n.useRef)(),o=Object(n.useRef)();return r.a.createElement("div",{className:"d-flex justify-content-center",style:{height:"100vh"}},r.a.createElement("div",{className:"d-flex flex-column justify-content-center"},r.a.createElement("div",{className:"card",style:{width:"500px"}},r.a.createElement("div",{className:"card-header"},r.a.createElement("h2",null,"\u041d\u043e\u0432\u044b\u0439 \u0437\u0430\u043a\u0430\u0437")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{ref:o,className:"alert alert-warning alert-dismissible fade",role:"alert"},r.a.createElement("strong",null,"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f!"),r.a.createElement("br",null),"\u0426\u0435\u043d\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0443\u043b\u044f.",r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"\u0424\u0418\u041e:"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{ref:a,type:"text",className:"form-control",placeholder:"\u0418\u0432\u0430\u043d \u0418\u0432\u0430\u043d\u043e\u0432"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"\u0417\u0430\u043a\u0430\u0437:"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("select",{ref:l,className:"form-control"},r.a.createElement("option",{defaultValue:!0},"\u0411\u0443\u043c\u0430\u0433\u0430 \u0434\u043b\u044f \u043f\u0440\u0438\u043d\u0442\u0435\u0440\u0430"),r.a.createElement("option",null,"\u041a\u0440\u0430\u0441\u043a\u0438 \u0434\u043b\u044f \u043f\u0440\u0438\u043d\u0442\u0435\u0440\u0430"),r.a.createElement("option",null,"\u041a\u0430\u0440\u0442\u0440\u0438\u0434\u0436\u0438 \u0434\u043b\u044f \u043f\u0440\u0438\u043d\u0442\u0435\u0440\u0430"),r.a.createElement("option",null,"\u041f\u0440\u0438\u043d\u0442\u0435\u0440"),r.a.createElement("option",null,"\u041f\u043e\u043b\u0438\u043c\u0435\u0440\u043d\u0430\u044f \u0432\u0430\u043d\u043d\u0430")))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"\u0426\u0435\u043d\u0430:"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{type:"number",className:"form-control",defaultValue:"0",min:"0",ref:c,"data-order-price":!0})))),r.a.createElement("div",{className:"card-footer d-flex justify-content-end"},r.a.createElement("button",{className:"btn btn-success",onClick:function(){if(""!==a.current.value.trim()&&parseInt(c.current.value.trim(),10)>0&&""!==l.current.value.trim()){var n={fullname:a.current.value,status:"new",price:c.current.value,good:l.current.value,date:Date.now()};t(n),e.push("/")}else o.current.classList.add("show")}},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),r.a.createElement("button",{className:"btn btn-danger ml-3",onClick:function(){return e.push("/")}},"\u041e\u0442\u043c\u0435\u043d\u0430")))))}function S(e){e.page;return r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/order/",component:C}),r.a.createElement(d.a,{path:"/editor/:orderId",component:x}),r.a.createElement(d.a,{path:"/"},r.a.createElement(w,null),";"))}var R=a(22),k=a(4);function I(e,t){if("update order bro =D"===t.type){var a=e.lastReviewed.orderIds.slice();return a.includes(t.payload.id)?a.unshift.apply(a,Object(m.a)(a.splice(a.indexOf(t.payload.id),1))):(a.pop(),a.unshift(t.payload.id)),localStorage.setItem("CRM_REACT_ORDERS",JSON.stringify(Object(k.a)(Object(k.a)({},e),{},{orders:e.orders.map((function(e){return e.id!==t.payload.id?e:Object.assign({},e,t.payload.data)})),lastReviewed:Object(k.a)(Object(k.a)({},e.lastReviewed),{},{orderIds:a})}))),Object(k.a)(Object(k.a)({},e),{},{orders:e.orders.map((function(e){return e.id!==t.id?e:Object.assign({},e,t.data)})),lastReviewed:Object(k.a)(Object(k.a)({},e.lastReviewed),{},{orderIds:a})})}if("Wow, it's real?"===t.type){var n=1+Math.max.apply(Math,[0].concat(Object(m.a)(e.orders.map((function(e){return e.id})))));return localStorage.setItem("CRM_REACT_ORDERS",JSON.stringify(Object(k.a)(Object(k.a)({},e),{},{orders:[].concat(Object(m.a)(e.orders),[Object(k.a)({id:n},t.payload)])}))),Object(k.a)(Object(k.a)({},e),{},{orders:[].concat(Object(m.a)(e.orders),[Object(k.a)({id:n},t.payload)])})}return Object(k.a)({},e)}var D=function(e){e.id;return Object(R.a)(e,["id"])},P=JSON.parse(localStorage.getItem("CRM_REACT_ORDERS")).orders,M=JSON.parse(localStorage.getItem("CRM_REACT_ORDERS")).lastReviewed;function _(e){var t=Object(n.useReducer)(I,{lastReviewed:M,maxOrders:10,orders:P}),a=Object(u.a)(t,2),l=a[0],c=a[1],o={state:l,dispatch:c,getOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return l.orders.slice(e,e+t)},getOrdersAmount:function(){return l.orders.length},updateOrder:function(e,t){return c({type:"update order bro =D",payload:{id:e,data:D(t)}})},getOrderById:function(e){return l.orders.find((function(t){return t.id===e}))},createOrder:function(e){return c({type:"Wow, it's real?",payload:e})}};return r.a.createElement(i.Provider,{value:o},e.children)}var L=document.getElementById("root");c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,null,r.a.createElement(_,null,r.a.createElement(S,null)))),L)}},[[23,1,2]]]);
//# sourceMappingURL=main.976c4467.chunk.js.map